{% load static %}
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Efficient Study</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>

<body>

    <textarea id="chat-log" cols="100" rows="20"></textarea><br>
    <input id="chat-message-input" type="text" size="100"><br>
    <input id="chat-message-submit" type="button" value="Send">

    <h1>chat history</h1>
    <div id="messages">
        {% for message in messages %}
        <p>message sent by: {{ message.sender }}</p>
        <p>message: {{ message.message_content }}</p>
        <hr>
        {% endfor %}

    </div>

    {% if has_next_messages_page %}
    <button id="loadMoreBtn" data-study-session-url="{% url 'study_session' session_code %}"
        data-next-messages-page="{{ next_messages_page }}">Load more</button>
    {% endif %}

    <form method="POST">
        {% csrf_token %}
        <button type="submit" class="btn">Leave study session</button>
    </form>

    <script src="{% static '/js/study_session.js' %}" defer data-session-code="{{ session_code }}"></script>
</body>

</html>